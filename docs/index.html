<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sector ETF Dashboard - Holdings</title>
<style>
  :root {
    --bg: #0d1117; --surface: #161b22; --border: #30363d;
    --text: #e6edf3; --muted: #8b949e; --accent: #58a6ff;
    --green: #3fb950; --red: #f85149; --yellow: #d29922;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
         background: var(--bg); color: var(--text); min-height: 100vh; }

  /* -- Header -- */
  header { background: var(--surface); border-bottom: 1px solid var(--border);
           padding: 12px 24px; display: flex; align-items: center; gap: 16px; }
  header h1 { font-size: 18px; font-weight: 600; }

  /* -- Tabs -- */
  .tabs { display: flex; gap: 0; background: var(--surface);
          border-bottom: 1px solid var(--border); padding: 0 24px; }
  .tab { padding: 10px 20px; cursor: pointer; color: var(--muted);
         border-bottom: 2px solid transparent; font-size: 14px; font-weight: 500;
         user-select: none; }
  .tab:hover { color: var(--text); }
  .tab.active { color: var(--accent); border-bottom-color: var(--accent); }

  /* -- Layout -- */
  main { padding: 20px 24px; max-width: 1800px; margin: 0 auto; }
  .panel { display: none; }
  .panel.active { display: block; }

  /* -- Holdings filter -- */
  .holdings-filter { margin-bottom: 14px; position: sticky; top: 0; z-index: 10;
    background: var(--bg); padding: 10px 0; }
  .holdings-filter input { background: var(--bg); border: 1px solid var(--border);
    color: var(--text); padding: 8px 14px; border-radius: 6px; font-size: 14px;
    width: 320px; outline: none; }
  .holdings-filter input:focus { border-color: var(--accent); }
  .holdings-filter .etf-count { font-size: 12px; color: var(--muted); margin-left: 12px;
    display: inline-block; vertical-align: middle; }

  /* -- Holdings grid -- */
  .holdings-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
                   gap: 12px; }
  .holding-card { background: var(--surface); border: 1px solid var(--border);
                  border-radius: 8px; overflow: hidden; transition: border-color 0.15s; }
  .holding-card:hover { border-color: var(--accent); }
  .holding-card-header { padding: 10px 14px; border-bottom: 1px solid var(--border);
    display: flex; justify-content: space-between; align-items: center; }
  .holding-card-header .ticker { font-size: 15px; font-weight: 700; }
  .holding-card-header .sector { font-size: 12px; color: var(--muted); }

  .holdings-table { width: 100%; border-collapse: collapse; font-size: 12px; }
  .holdings-table th { text-align: left; padding: 6px 10px; color: var(--muted);
    font-weight: 600; border-bottom: 1px solid var(--border); font-size: 10px;
    text-transform: uppercase; letter-spacing: 0.5px; }
  .holdings-table td { padding: 5px 10px; border-bottom: 1px solid rgba(48,54,61,0.5); }
  .holdings-table tr:last-child td { border-bottom: none; }
  .holdings-table .rank { color: var(--muted); width: 24px; }
  .holdings-table .weight-cell { width: 100px; }
  .weight-bar-wrap { display: flex; align-items: center; gap: 6px; }
  .weight-bar { height: 6px; border-radius: 3px; background: var(--accent); opacity: 0.7; }
  .weight-val { font-size: 11px; color: var(--muted); min-width: 36px; text-align: right; }

  /* -- Footer -- */
  .footer-note { text-align: center; padding: 32px 24px 24px; font-size: 12px;
    color: var(--muted); border-top: 1px solid var(--border); margin-top: 32px; }
</style>
</head>
<body>

<header>
  <h1>Sector ETF Dashboard - Holdings</h1>
</header>

<div class="tabs">
  <div class="tab active" data-panel="holdings">Sector Holdings</div>
  <div class="tab" data-panel="international">International Holdings</div>
</div>

<main>
  <!-- Sector Holdings Panel -->
  <div class="panel active" id="panel-holdings">
    <div class="holdings-filter">
      <input type="text" id="holdings-search" placeholder="Filter by ticker or sector...">
      <span class="etf-count" id="holdings-count"></span>
    </div>
    <div class="holdings-grid" id="holdings-grid"></div>
  </div>

  <!-- International Holdings Panel -->
  <div class="panel" id="panel-international">
    <div class="holdings-filter">
      <input type="text" id="intl-holdings-search" placeholder="Filter by ticker or country...">
      <span class="etf-count" id="intl-holdings-count"></span>
    </div>
    <div class="holdings-grid" id="intl-holdings-grid"></div>
  </div>
</main>

<div class="footer-note">
  Run the Flask app locally for interactive charts with EMAs. See the
  <a href="https://github.com/wilsonfong/Finance" style="color:var(--accent)">GitHub repo</a>
  for setup instructions.
</div>

<script>
// ========================================================================
//  Embedded ETF data - Sector ETFs (34)
// ========================================================================
const sectorETFs = [
  { ticker: "XLB", description: "Materials" },
  { ticker: "XLC", description: "Communication Services" },
  { ticker: "XLE", description: "Energy" },
  { ticker: "XLF", description: "Financials" },
  { ticker: "XLI", description: "Industrials" },
  { ticker: "XLK", description: "Technology" },
  { ticker: "XLP", description: "Consumer Staples" },
  { ticker: "XLU", description: "Utilities" },
  { ticker: "XLV", description: "Health Care" },
  { ticker: "XLY", description: "Consumer Discretionary" },
  { ticker: "XHB", description: "Homebuilders" },
  { ticker: "XME", description: "Metals & Mining" },
  { ticker: "XOP", description: "Oil & Gas Exploration" },
  { ticker: "XRT", description: "Retail" },
  { ticker: "KBE", description: "Banks" },
  { ticker: "KRE", description: "Regional Banks" },
  { ticker: "IBB", description: "Biotech" },
  { ticker: "IYR", description: "Real Estate" },
  { ticker: "IYT", description: "Transportation" },
  { ticker: "ITA", description: "Aerospace & Defense" },
  { ticker: "IGV", description: "Software" },
  { ticker: "SMH", description: "Semiconductors" },
  { ticker: "GDX", description: "Gold Miners" },
  { ticker: "SLV", description: "Silver" },
  { ticker: "GLD", description: "Gold" },
  { ticker: "URA", description: "Uranium" },
  { ticker: "TAN", description: "Solar Energy" },
  { ticker: "ARKK", description: "Innovation (ARK)" },
  { ticker: "HACK", description: "Cybersecurity" },
  { ticker: "JETS", description: "Airlines" },
  { ticker: "PAVE", description: "Infrastructure Development" },
  { ticker: "COPX", description: "Copper Miners" },
  { ticker: "LIT", description: "Lithium & Battery Tech" },
  { ticker: "BITO", description: "Bitcoin Strategy" }
];

const sectorHoldings = {
  "XLB": [
    { ticker: "LIN", name: "Linde plc", weight: 16.82 },
    { ticker: "SHW", name: "Sherwin-Williams", weight: 9.12 },
    { ticker: "FCX", name: "Freeport-McMoRan", weight: 7.85 },
    { ticker: "APD", name: "Air Products & Chemicals", weight: 7.24 },
    { ticker: "ECL", name: "Ecolab", weight: 5.98 },
    { ticker: "NEM", name: "Newmont", weight: 5.46 },
    { ticker: "CTVA", name: "Corteva", weight: 4.72 },
    { ticker: "NUE", name: "Nucor", weight: 4.15 },
    { ticker: "VMC", name: "Vulcan Materials", weight: 3.89 },
    { ticker: "DOW", name: "Dow Inc", weight: 3.54 }
  ],
  "XLC": [
    { ticker: "META", name: "Meta Platforms", weight: 22.56 },
    { ticker: "GOOGL", name: "Alphabet Class A", weight: 12.18 },
    { ticker: "GOOG", name: "Alphabet Class C", weight: 10.94 },
    { ticker: "NFLX", name: "Netflix", weight: 5.42 },
    { ticker: "T", name: "AT&T", weight: 4.86 },
    { ticker: "CMCSA", name: "Comcast", weight: 4.55 },
    { ticker: "DIS", name: "Walt Disney", weight: 4.32 },
    { ticker: "VZ", name: "Verizon", weight: 4.18 },
    { ticker: "TMUS", name: "T-Mobile US", weight: 4.02 },
    { ticker: "EA", name: "Electronic Arts", weight: 2.98 }
  ],
  "XLE": [
    { ticker: "XOM", name: "Exxon Mobil", weight: 22.85 },
    { ticker: "CVX", name: "Chevron", weight: 16.42 },
    { ticker: "COP", name: "ConocoPhillips", weight: 8.15 },
    { ticker: "EOG", name: "EOG Resources", weight: 5.24 },
    { ticker: "SLB", name: "Schlumberger", weight: 4.98 },
    { ticker: "MPC", name: "Marathon Petroleum", weight: 4.72 },
    { ticker: "PSX", name: "Phillips 66", weight: 4.18 },
    { ticker: "VLO", name: "Valero Energy", weight: 3.85 },
    { ticker: "PXD", name: "Pioneer Natural Resources", weight: 3.52 },
    { ticker: "OXY", name: "Occidental Petroleum", weight: 3.24 }
  ],
  "XLF": [
    { ticker: "BRK.B", name: "Berkshire Hathaway", weight: 13.56 },
    { ticker: "JPM", name: "JPMorgan Chase", weight: 10.24 },
    { ticker: "V", name: "Visa", weight: 7.85 },
    { ticker: "MA", name: "Mastercard", weight: 6.92 },
    { ticker: "BAC", name: "Bank of America", weight: 4.86 },
    { ticker: "WFC", name: "Wells Fargo", weight: 3.95 },
    { ticker: "GS", name: "Goldman Sachs", weight: 3.42 },
    { ticker: "MS", name: "Morgan Stanley", weight: 3.18 },
    { ticker: "SPGI", name: "S&P Global", weight: 3.05 },
    { ticker: "BLK", name: "BlackRock", weight: 2.86 }
  ],
  "XLI": [
    { ticker: "GE", name: "GE Aerospace", weight: 8.95 },
    { ticker: "CAT", name: "Caterpillar", weight: 5.72 },
    { ticker: "UNP", name: "Union Pacific", weight: 4.86 },
    { ticker: "RTX", name: "RTX Corporation", weight: 4.55 },
    { ticker: "HON", name: "Honeywell", weight: 4.32 },
    { ticker: "DE", name: "Deere & Company", weight: 4.12 },
    { ticker: "BA", name: "Boeing", weight: 3.85 },
    { ticker: "LMT", name: "Lockheed Martin", weight: 3.58 },
    { ticker: "ETN", name: "Eaton Corporation", weight: 3.42 },
    { ticker: "UPS", name: "United Parcel Service", weight: 3.15 }
  ],
  "XLK": [
    { ticker: "MSFT", name: "Microsoft", weight: 20.85 },
    { ticker: "AAPL", name: "Apple", weight: 20.42 },
    { ticker: "NVDA", name: "NVIDIA", weight: 14.56 },
    { ticker: "AVGO", name: "Broadcom", weight: 5.18 },
    { ticker: "CRM", name: "Salesforce", weight: 3.24 },
    { ticker: "ADBE", name: "Adobe", weight: 2.98 },
    { ticker: "AMD", name: "Advanced Micro Devices", weight: 2.72 },
    { ticker: "CSCO", name: "Cisco Systems", weight: 2.56 },
    { ticker: "ACN", name: "Accenture", weight: 2.42 },
    { ticker: "ORCL", name: "Oracle", weight: 2.35 }
  ],
  "XLP": [
    { ticker: "PG", name: "Procter & Gamble", weight: 14.85 },
    { ticker: "COST", name: "Costco", weight: 11.42 },
    { ticker: "KO", name: "Coca-Cola", weight: 9.56 },
    { ticker: "PEP", name: "PepsiCo", weight: 8.92 },
    { ticker: "WMT", name: "Walmart", weight: 7.85 },
    { ticker: "PM", name: "Philip Morris", weight: 5.24 },
    { ticker: "MDLZ", name: "Mondelez", weight: 3.98 },
    { ticker: "MO", name: "Altria Group", weight: 3.56 },
    { ticker: "CL", name: "Colgate-Palmolive", weight: 3.42 },
    { ticker: "STZ", name: "Constellation Brands", weight: 2.86 }
  ],
  "XLU": [
    { ticker: "NEE", name: "NextEra Energy", weight: 14.85 },
    { ticker: "SO", name: "Southern Company", weight: 8.56 },
    { ticker: "DUK", name: "Duke Energy", weight: 7.92 },
    { ticker: "CEG", name: "Constellation Energy", weight: 6.85 },
    { ticker: "SRE", name: "Sempra", weight: 4.72 },
    { ticker: "AEP", name: "American Electric Power", weight: 4.56 },
    { ticker: "D", name: "Dominion Energy", weight: 4.24 },
    { ticker: "PCG", name: "PG&E", weight: 3.98 },
    { ticker: "EXC", name: "Exelon", weight: 3.56 },
    { ticker: "XEL", name: "Xcel Energy", weight: 3.12 }
  ],
  "XLV": [
    { ticker: "LLY", name: "Eli Lilly", weight: 11.85 },
    { ticker: "UNH", name: "UnitedHealth Group", weight: 9.56 },
    { ticker: "JNJ", name: "Johnson & Johnson", weight: 7.42 },
    { ticker: "MRK", name: "Merck", weight: 6.24 },
    { ticker: "ABBV", name: "AbbVie", weight: 6.12 },
    { ticker: "TMO", name: "Thermo Fisher Scientific", weight: 4.85 },
    { ticker: "ABT", name: "Abbott Laboratories", weight: 4.56 },
    { ticker: "DHR", name: "Danaher", weight: 3.92 },
    { ticker: "PFE", name: "Pfizer", weight: 3.56 },
    { ticker: "AMGN", name: "Amgen", weight: 3.24 }
  ],
  "XLY": [
    { ticker: "AMZN", name: "Amazon", weight: 22.56 },
    { ticker: "TSLA", name: "Tesla", weight: 15.85 },
    { ticker: "HD", name: "Home Depot", weight: 8.42 },
    { ticker: "MCD", name: "McDonald's", weight: 4.56 },
    { ticker: "LOW", name: "Lowe's", weight: 3.92 },
    { ticker: "BKNG", name: "Booking Holdings", weight: 3.85 },
    { ticker: "NKE", name: "Nike", weight: 3.24 },
    { ticker: "SBUX", name: "Starbucks", weight: 3.12 },
    { ticker: "TJX", name: "TJX Companies", weight: 2.98 },
    { ticker: "CMG", name: "Chipotle Mexican Grill", weight: 2.56 }
  ],
  "XHB": [
    { ticker: "WSM", name: "Williams-Sonoma", weight: 5.24 },
    { ticker: "OC", name: "Owens Corning", weight: 4.98 },
    { ticker: "DHI", name: "D.R. Horton", weight: 4.72 },
    { ticker: "LEN", name: "Lennar", weight: 4.56 },
    { ticker: "PHM", name: "PulteGroup", weight: 4.42 },
    { ticker: "NVR", name: "NVR Inc", weight: 4.18 },
    { ticker: "FND", name: "Floor & Decor", weight: 3.95 },
    { ticker: "BLDR", name: "Builders FirstSource", weight: 3.82 },
    { ticker: "TOL", name: "Toll Brothers", weight: 3.68 },
    { ticker: "MHK", name: "Mohawk Industries", weight: 3.45 }
  ],
  "XME": [
    { ticker: "ATI", name: "ATI Inc", weight: 5.86 },
    { ticker: "CLF", name: "Cleveland-Cliffs", weight: 5.42 },
    { ticker: "STLD", name: "Steel Dynamics", weight: 5.18 },
    { ticker: "RS", name: "Reliance Steel", weight: 4.92 },
    { ticker: "NUE", name: "Nucor", weight: 4.85 },
    { ticker: "FCX", name: "Freeport-McMoRan", weight: 4.72 },
    { ticker: "AA", name: "Alcoa", weight: 4.56 },
    { ticker: "X", name: "United States Steel", weight: 4.24 },
    { ticker: "MP", name: "MP Materials", weight: 3.98 },
    { ticker: "RGLD", name: "Royal Gold", weight: 3.82 }
  ],
  "XOP": [
    { ticker: "COP", name: "ConocoPhillips", weight: 4.85 },
    { ticker: "DVN", name: "Devon Energy", weight: 4.56 },
    { ticker: "EOG", name: "EOG Resources", weight: 4.42 },
    { ticker: "PXD", name: "Pioneer Natural Resources", weight: 4.28 },
    { ticker: "FANG", name: "Diamondback Energy", weight: 4.15 },
    { ticker: "MRO", name: "Marathon Oil", weight: 3.98 },
    { ticker: "OVV", name: "Ovintiv", weight: 3.82 },
    { ticker: "AR", name: "Antero Resources", weight: 3.68 },
    { ticker: "EQT", name: "EQT Corporation", weight: 3.56 },
    { ticker: "CTRA", name: "Coterra Energy", weight: 3.42 }
  ],
  "XRT": [
    { ticker: "BURL", name: "Burlington Stores", weight: 2.85 },
    { ticker: "KMX", name: "CarMax", weight: 2.72 },
    { ticker: "ANF", name: "Abercrombie & Fitch", weight: 2.56 },
    { ticker: "BOOT", name: "Boot Barn Holdings", weight: 2.42 },
    { ticker: "VSCO", name: "Victoria's Secret", weight: 2.35 },
    { ticker: "GAP", name: "Gap Inc", weight: 2.28 },
    { ticker: "BBY", name: "Best Buy", weight: 2.18 },
    { ticker: "DKS", name: "Dick's Sporting Goods", weight: 2.12 },
    { ticker: "CASY", name: "Casey's General Stores", weight: 2.05 },
    { ticker: "AZO", name: "AutoZone", weight: 1.98 }
  ],
  "KBE": [
    { ticker: "JPM", name: "JPMorgan Chase", weight: 4.85 },
    { ticker: "BAC", name: "Bank of America", weight: 4.56 },
    { ticker: "WFC", name: "Wells Fargo", weight: 4.42 },
    { ticker: "GS", name: "Goldman Sachs", weight: 4.28 },
    { ticker: "MS", name: "Morgan Stanley", weight: 4.15 },
    { ticker: "C", name: "Citigroup", weight: 3.98 },
    { ticker: "USB", name: "U.S. Bancorp", weight: 3.82 },
    { ticker: "PNC", name: "PNC Financial Services", weight: 3.72 },
    { ticker: "TFC", name: "Truist Financial", weight: 3.56 },
    { ticker: "SCHW", name: "Charles Schwab", weight: 3.42 }
  ],
  "KRE": [
    { ticker: "CFG", name: "Citizens Financial Group", weight: 3.85 },
    { ticker: "RF", name: "Regions Financial", weight: 3.72 },
    { ticker: "HBAN", name: "Huntington Bancshares", weight: 3.56 },
    { ticker: "KEY", name: "KeyCorp", weight: 3.42 },
    { ticker: "MTB", name: "M&T Bank", weight: 3.28 },
    { ticker: "CMA", name: "Comerica", weight: 3.15 },
    { ticker: "ZION", name: "Zions Bancorporation", weight: 3.05 },
    { ticker: "FHN", name: "First Horizon", weight: 2.92 },
    { ticker: "FITB", name: "Fifth Third Bancorp", weight: 2.85 },
    { ticker: "WAL", name: "Western Alliance Bancorp", weight: 2.78 }
  ],
  "IBB": [
    { ticker: "GILD", name: "Gilead Sciences", weight: 8.56 },
    { ticker: "AMGN", name: "Amgen", weight: 7.85 },
    { ticker: "VRTX", name: "Vertex Pharmaceuticals", weight: 7.24 },
    { ticker: "REGN", name: "Regeneron", weight: 6.42 },
    { ticker: "MRNA", name: "Moderna", weight: 3.85 },
    { ticker: "BIIB", name: "Biogen", weight: 3.56 },
    { ticker: "ALNY", name: "Alnylam Pharmaceuticals", weight: 3.24 },
    { ticker: "ILMN", name: "Illumina", weight: 2.98 },
    { ticker: "SGEN", name: "Seagen", weight: 2.72 },
    { ticker: "BMRN", name: "BioMarin Pharmaceutical", weight: 2.56 }
  ],
  "IYR": [
    { ticker: "PLD", name: "Prologis", weight: 9.24 },
    { ticker: "AMT", name: "American Tower", weight: 7.12 },
    { ticker: "EQIX", name: "Equinix", weight: 6.42 },
    { ticker: "CCI", name: "Crown Castle", weight: 4.56 },
    { ticker: "SPG", name: "Simon Property Group", weight: 4.12 },
    { ticker: "PSA", name: "Public Storage", weight: 3.85 },
    { ticker: "O", name: "Realty Income", weight: 3.72 },
    { ticker: "DLR", name: "Digital Realty Trust", weight: 3.56 },
    { ticker: "WELL", name: "Welltower", weight: 3.42 },
    { ticker: "VICI", name: "VICI Properties", weight: 3.18 }
  ],
  "IYT": [
    { ticker: "UNP", name: "Union Pacific", weight: 14.56 },
    { ticker: "UPS", name: "United Parcel Service", weight: 10.42 },
    { ticker: "CSX", name: "CSX Corporation", weight: 8.24 },
    { ticker: "NSC", name: "Norfolk Southern", weight: 7.12 },
    { ticker: "FDX", name: "FedEx", weight: 6.85 },
    { ticker: "DAL", name: "Delta Air Lines", weight: 4.56 },
    { ticker: "UAL", name: "United Airlines", weight: 3.85 },
    { ticker: "LUV", name: "Southwest Airlines", weight: 3.42 },
    { ticker: "JBHT", name: "J.B. Hunt Transport", weight: 3.24 },
    { ticker: "ODFL", name: "Old Dominion Freight Line", weight: 3.12 }
  ],
  "ITA": [
    { ticker: "RTX", name: "RTX Corporation", weight: 17.85 },
    { ticker: "LMT", name: "Lockheed Martin", weight: 14.56 },
    { ticker: "BA", name: "Boeing", weight: 8.42 },
    { ticker: "GD", name: "General Dynamics", weight: 6.24 },
    { ticker: "NOC", name: "Northrop Grumman", weight: 5.85 },
    { ticker: "GE", name: "GE Aerospace", weight: 5.42 },
    { ticker: "TDG", name: "TransDigm Group", weight: 4.85 },
    { ticker: "LHX", name: "L3Harris Technologies", weight: 4.56 },
    { ticker: "HWM", name: "Howmet Aerospace", weight: 3.92 },
    { ticker: "HII", name: "Huntington Ingalls", weight: 3.24 }
  ],
  "IGV": [
    { ticker: "MSFT", name: "Microsoft", weight: 9.56 },
    { ticker: "CRM", name: "Salesforce", weight: 7.85 },
    { ticker: "ORCL", name: "Oracle", weight: 7.24 },
    { ticker: "ADBE", name: "Adobe", weight: 5.42 },
    { ticker: "NOW", name: "ServiceNow", weight: 5.18 },
    { ticker: "INTU", name: "Intuit", weight: 4.85 },
    { ticker: "PANW", name: "Palo Alto Networks", weight: 4.56 },
    { ticker: "SNPS", name: "Synopsys", weight: 3.92 },
    { ticker: "CDNS", name: "Cadence Design Systems", weight: 3.72 },
    { ticker: "WDAY", name: "Workday", weight: 3.42 }
  ],
  "SMH": [
    { ticker: "NVDA", name: "NVIDIA", weight: 20.12 },
    { ticker: "TSM", name: "Taiwan Semiconductor", weight: 12.85 },
    { ticker: "AVGO", name: "Broadcom", weight: 8.42 },
    { ticker: "AMD", name: "Advanced Micro Devices", weight: 5.56 },
    { ticker: "TXN", name: "Texas Instruments", weight: 5.24 },
    { ticker: "QCOM", name: "Qualcomm", weight: 4.85 },
    { ticker: "INTC", name: "Intel", weight: 4.42 },
    { ticker: "MU", name: "Micron Technology", weight: 4.18 },
    { ticker: "AMAT", name: "Applied Materials", weight: 3.92 },
    { ticker: "LRCX", name: "Lam Research", weight: 3.56 }
  ],
  "GDX": [
    { ticker: "NEM", name: "Newmont", weight: 12.56 },
    { ticker: "GOLD", name: "Barrick Gold", weight: 8.42 },
    { ticker: "AEM", name: "Agnico Eagle Mines", weight: 8.24 },
    { ticker: "WPM", name: "Wheaton Precious Metals", weight: 6.56 },
    { ticker: "FNV", name: "Franco-Nevada", weight: 5.85 },
    { ticker: "GFI", name: "Gold Fields", weight: 4.72 },
    { ticker: "RGLD", name: "Royal Gold", weight: 3.98 },
    { ticker: "KGC", name: "Kinross Gold", weight: 3.72 },
    { ticker: "AU", name: "AngloGold Ashanti", weight: 3.42 },
    { ticker: "AGI", name: "Alamos Gold", weight: 3.18 }
  ],
  "SLV": [
    { ticker: "SLV", name: "Physical Silver Bullion", weight: 100.00 }
  ],
  "GLD": [
    { ticker: "GLD", name: "Physical Gold Bullion", weight: 100.00 }
  ],
  "URA": [
    { ticker: "CCJ", name: "Cameco", weight: 22.56 },
    { ticker: "NXE", name: "NexGen Energy", weight: 7.85 },
    { ticker: "SRUUF", name: "Sprott Physical Uranium", weight: 6.42 },
    { ticker: "UEC", name: "Uranium Energy Corp", weight: 5.24 },
    { ticker: "DNN", name: "Denison Mines", weight: 4.85 },
    { ticker: "EU", name: "enCore Energy", weight: 4.12 },
    { ticker: "LEU", name: "Centrus Energy", weight: 3.72 },
    { ticker: "UUUU", name: "Energy Fuels", weight: 3.42 },
    { ticker: "BWXT", name: "BWX Technologies", weight: 3.18 },
    { ticker: "SMR", name: "NuScale Power", weight: 2.98 }
  ],
  "TAN": [
    { ticker: "ENPH", name: "Enphase Energy", weight: 10.56 },
    { ticker: "SEDG", name: "SolarEdge Technologies", weight: 6.85 },
    { ticker: "FSLR", name: "First Solar", weight: 6.42 },
    { ticker: "RUN", name: "Sunrun", weight: 5.24 },
    { ticker: "NOVA", name: "Sunnova Energy", weight: 3.85 },
    { ticker: "ARRY", name: "Array Technologies", weight: 3.56 },
    { ticker: "CSIQ", name: "Canadian Solar", weight: 3.42 },
    { ticker: "JKS", name: "JinkoSolar", weight: 3.18 },
    { ticker: "MAXN", name: "Maxeon Solar Technologies", weight: 2.56 },
    { ticker: "SHLS", name: "Shoals Technologies", weight: 2.42 }
  ],
  "ARKK": [
    { ticker: "TSLA", name: "Tesla", weight: 12.56 },
    { ticker: "COIN", name: "Coinbase Global", weight: 8.42 },
    { ticker: "ROKU", name: "Roku", weight: 7.24 },
    { ticker: "SQ", name: "Block Inc (Square)", weight: 5.85 },
    { ticker: "PATH", name: "UiPath", weight: 5.42 },
    { ticker: "RBLX", name: "Roblox", weight: 4.85 },
    { ticker: "DKNG", name: "DraftKings", weight: 4.56 },
    { ticker: "HOOD", name: "Robinhood Markets", weight: 4.24 },
    { ticker: "ZM", name: "Zoom Video", weight: 3.98 },
    { ticker: "PLTR", name: "Palantir Technologies", weight: 3.72 }
  ],
  "HACK": [
    { ticker: "CRWD", name: "CrowdStrike", weight: 6.85 },
    { ticker: "PANW", name: "Palo Alto Networks", weight: 6.42 },
    { ticker: "FTNT", name: "Fortinet", weight: 5.85 },
    { ticker: "ZS", name: "Zscaler", weight: 5.24 },
    { ticker: "CSCO", name: "Cisco Systems", weight: 4.85 },
    { ticker: "AKAM", name: "Akamai Technologies", weight: 4.42 },
    { ticker: "GEN", name: "Gen Digital", weight: 3.98 },
    { ticker: "TENB", name: "Tenable Holdings", weight: 3.56 },
    { ticker: "SAIL", name: "SailPoint Technologies", weight: 3.24 },
    { ticker: "CYBR", name: "CyberArk Software", weight: 3.12 }
  ],
  "JETS": [
    { ticker: "DAL", name: "Delta Air Lines", weight: 10.56 },
    { ticker: "UAL", name: "United Airlines", weight: 10.24 },
    { ticker: "LUV", name: "Southwest Airlines", weight: 10.12 },
    { ticker: "AAL", name: "American Airlines", weight: 9.85 },
    { ticker: "ALK", name: "Alaska Air Group", weight: 4.56 },
    { ticker: "JBLU", name: "JetBlue Airways", weight: 3.85 },
    { ticker: "SAVE", name: "Spirit Airlines", weight: 3.42 },
    { ticker: "HA", name: "Hawaiian Airlines", weight: 2.98 },
    { ticker: "RYAAY", name: "Ryanair Holdings", weight: 2.72 },
    { ticker: "SKYW", name: "SkyWest Inc", weight: 2.56 }
  ],
  "PAVE": [
    { ticker: "CARR", name: "Carrier Global", weight: 4.85 },
    { ticker: "ETN", name: "Eaton Corporation", weight: 4.56 },
    { ticker: "URI", name: "United Rentals", weight: 4.32 },
    { ticker: "NUE", name: "Nucor", weight: 4.18 },
    { ticker: "PWR", name: "Quanta Services", weight: 4.05 },
    { ticker: "EMR", name: "Emerson Electric", weight: 3.92 },
    { ticker: "MLM", name: "Martin Marietta Materials", weight: 3.78 },
    { ticker: "VMC", name: "Vulcan Materials", weight: 3.56 },
    { ticker: "AME", name: "AMETEK Inc", weight: 3.42 },
    { ticker: "FAST", name: "Fastenal", weight: 3.28 }
  ],
  "COPX": [
    { ticker: "FCX", name: "Freeport-McMoRan", weight: 14.56 },
    { ticker: "SCCO", name: "Southern Copper", weight: 9.85 },
    { ticker: "TECK", name: "Teck Resources", weight: 6.42 },
    { ticker: "HBM", name: "Hudbay Minerals", weight: 5.24 },
    { ticker: "ERO", name: "Ero Copper", weight: 4.85 },
    { ticker: "IVPAF", name: "Ivanhoe Mines", weight: 4.56 },
    { ticker: "CS", name: "Capstone Copper", weight: 4.18 },
    { ticker: "FM.TO", name: "First Quantum Minerals", weight: 3.92 },
    { ticker: "LUN.TO", name: "Lundin Mining", weight: 3.72 },
    { ticker: "TGB", name: "Taseko Mines", weight: 3.42 }
  ],
  "LIT": [
    { ticker: "ALB", name: "Albemarle", weight: 10.56 },
    { ticker: "SQM", name: "Sociedad Quimica y Minera", weight: 7.85 },
    { ticker: "BYDDY", name: "BYD Company", weight: 6.42 },
    { ticker: "TM", name: "Toyota Motor", weight: 5.24 },
    { ticker: "PANW", name: "Palo Alto Networks", weight: 4.85 },
    { ticker: "ENR", name: "Energizer Holdings", weight: 4.42 },
    { ticker: "LTHM", name: "Livent", weight: 4.18 },
    { ticker: "LAC", name: "Lithium Americas", weight: 3.92 },
    { ticker: "PLL", name: "Piedmont Lithium", weight: 3.56 },
    { ticker: "SGML", name: "Sigma Lithium", weight: 3.24 }
  ],
  "BITO": [
    { ticker: "BTC", name: "Bitcoin Futures (CME)", weight: 100.00 }
  ]
};

// ========================================================================
//  Embedded ETF data - International ETFs (10)
// ========================================================================
const intlETFs = [
  { ticker: "EWJ", description: "Japan" },
  { ticker: "KWEB", description: "China Internet" },
  { ticker: "MCHI", description: "China Large-Cap" },
  { ticker: "EWZ", description: "Brazil" },
  { ticker: "INDA", description: "India" },
  { ticker: "EWT", description: "Taiwan" },
  { ticker: "EFA", description: "Developed Markets ex-US" },
  { ticker: "EEM", description: "Emerging Markets" },
  { ticker: "EWG", description: "Germany" },
  { ticker: "EWY", description: "South Korea" }
];

const intlHoldings = {
  "EWJ": [
    { ticker: "TM", name: "Toyota Motor", weight: 5.42 },
    { ticker: "MUFG", name: "Mitsubishi UFJ Financial", weight: 4.18 },
    { ticker: "SONY", name: "Sony Group", weight: 3.85 },
    { ticker: "8035.T", name: "Tokyo Electron", weight: 3.56 },
    { ticker: "8306.T", name: "Sumitomo Mitsui Financial", weight: 3.24 },
    { ticker: "6758.T", name: "Hitachi", weight: 2.98 },
    { ticker: "6501.T", name: "Keyence", weight: 2.72 },
    { ticker: "9984.T", name: "SoftBank Group", weight: 2.56 },
    { ticker: "7203.T", name: "Recruit Holdings", weight: 2.42 },
    { ticker: "6902.T", name: "Shin-Etsu Chemical", weight: 2.28 }
  ],
  "KWEB": [
    { ticker: "PDD", name: "PDD Holdings", weight: 10.56 },
    { ticker: "BABA", name: "Alibaba Group", weight: 9.85 },
    { ticker: "TCOM", name: "Trip.com Group", weight: 7.24 },
    { ticker: "JD", name: "JD.com", weight: 6.42 },
    { ticker: "BIDU", name: "Baidu", weight: 5.85 },
    { ticker: "NTES", name: "NetEase", weight: 5.24 },
    { ticker: "BILI", name: "Bilibili", weight: 4.56 },
    { ticker: "KC", name: "Kingsoft Cloud", weight: 3.85 },
    { ticker: "MNSO", name: "Miniso Group", weight: 3.42 },
    { ticker: "ZTO", name: "ZTO Express", weight: 3.12 }
  ],
  "MCHI": [
    { ticker: "BABA", name: "Alibaba Group", weight: 10.24 },
    { ticker: "TCEHY", name: "Tencent Holdings", weight: 9.56 },
    { ticker: "PDD", name: "PDD Holdings", weight: 6.85 },
    { ticker: "3690.HK", name: "Meituan", weight: 5.42 },
    { ticker: "JD", name: "JD.com", weight: 4.85 },
    { ticker: "939.HK", name: "China Construction Bank", weight: 3.92 },
    { ticker: "NTES", name: "NetEase", weight: 3.56 },
    { ticker: "1398.HK", name: "ICBC", weight: 3.24 },
    { ticker: "BIDU", name: "Baidu", weight: 2.98 },
    { ticker: "2318.HK", name: "Ping An Insurance", weight: 2.72 }
  ],
  "EWZ": [
    { ticker: "VALE", name: "Vale S.A.", weight: 14.56 },
    { ticker: "PBR", name: "Petrobras", weight: 10.85 },
    { ticker: "ITUB", name: "Itau Unibanco", weight: 7.24 },
    { ticker: "BBD", name: "Banco Bradesco", weight: 5.42 },
    { ticker: "NU", name: "Nu Holdings", weight: 4.85 },
    { ticker: "WEG", name: "WEG S.A.", weight: 4.18 },
    { ticker: "B3SA3.SA", name: "B3 - Brasil Bolsa", weight: 3.72 },
    { ticker: "ABEV", name: "Ambev", weight: 3.42 },
    { ticker: "SUZB3.SA", name: "Suzano", weight: 3.18 },
    { ticker: "RENT3.SA", name: "Localiza", weight: 2.85 }
  ],
  "INDA": [
    { ticker: "RELIANCE.NS", name: "Reliance Industries", weight: 10.56 },
    { ticker: "INFY", name: "Infosys", weight: 6.85 },
    { ticker: "HDB", name: "HDFC Bank", weight: 6.42 },
    { ticker: "TCS.NS", name: "Tata Consultancy", weight: 4.85 },
    { ticker: "ICICIBANK.NS", name: "ICICI Bank", weight: 4.56 },
    { ticker: "BHARTIARTL.NS", name: "Bharti Airtel", weight: 3.92 },
    { ticker: "LT.NS", name: "Larsen & Toubro", weight: 3.42 },
    { ticker: "HINDUNILVR.NS", name: "Hindustan Unilever", weight: 3.18 },
    { ticker: "SBIN.NS", name: "State Bank of India", weight: 2.85 },
    { ticker: "ITC.NS", name: "ITC Limited", weight: 2.56 }
  ],
  "EWT": [
    { ticker: "TSM", name: "Taiwan Semiconductor", weight: 23.56 },
    { ticker: "2317.TW", name: "Hon Hai Precision", weight: 5.42 },
    { ticker: "2454.TW", name: "MediaTek", weight: 5.18 },
    { ticker: "2330.TW", name: "Delta Electronics", weight: 3.85 },
    { ticker: "2881.TW", name: "Fubon Financial", weight: 3.42 },
    { ticker: "2882.TW", name: "Cathay Financial", weight: 3.18 },
    { ticker: "2891.TW", name: "CTBC Financial", weight: 2.85 },
    { ticker: "1303.TW", name: "Nan Ya Plastics", weight: 2.56 },
    { ticker: "2303.TW", name: "United Micro", weight: 2.42 },
    { ticker: "3711.TW", name: "ASE Technology", weight: 2.28 }
  ],
  "EFA": [
    { ticker: "NOVO-B.CO", name: "Novo Nordisk", weight: 2.85 },
    { ticker: "ASML", name: "ASML Holding", weight: 2.56 },
    { ticker: "NESN.SW", name: "Nestle", weight: 2.12 },
    { ticker: "AZN", name: "AstraZeneca", weight: 1.98 },
    { ticker: "SHEL", name: "Shell plc", weight: 1.85 },
    { ticker: "ROG.SW", name: "Roche Holding", weight: 1.72 },
    { ticker: "NOVN.SW", name: "Novartis", weight: 1.65 },
    { ticker: "SAP", name: "SAP SE", weight: 1.56 },
    { ticker: "TM", name: "Toyota Motor", weight: 1.42 },
    { ticker: "HSBA.L", name: "HSBC Holdings", weight: 1.38 }
  ],
  "EEM": [
    { ticker: "TSM", name: "Taiwan Semiconductor", weight: 9.85 },
    { ticker: "TCEHY", name: "Tencent Holdings", weight: 4.56 },
    { ticker: "BABA", name: "Alibaba Group", weight: 3.42 },
    { ticker: "005930.KS", name: "Samsung Electronics", weight: 3.85 },
    { ticker: "RELIANCE.NS", name: "Reliance Industries", weight: 2.18 },
    { ticker: "PDD", name: "PDD Holdings", weight: 1.98 },
    { ticker: "3690.HK", name: "Meituan", weight: 1.72 },
    { ticker: "INFY", name: "Infosys", weight: 1.56 },
    { ticker: "VALE", name: "Vale S.A.", weight: 1.42 },
    { ticker: "2317.TW", name: "Hon Hai Precision", weight: 1.28 }
  ],
  "EWG": [
    { ticker: "SAP", name: "SAP SE", weight: 14.56 },
    { ticker: "SIE.DE", name: "Siemens", weight: 9.85 },
    { ticker: "ALV.DE", name: "Allianz", weight: 7.24 },
    { ticker: "DTE.DE", name: "Deutsche Telekom", weight: 6.42 },
    { ticker: "MUV2.DE", name: "Munich Re", weight: 4.85 },
    { ticker: "MBG.DE", name: "Mercedes-Benz", weight: 3.92 },
    { ticker: "IFX.DE", name: "Infineon Technologies", weight: 3.56 },
    { ticker: "AIR.PA", name: "Airbus", weight: 3.24 },
    { ticker: "BAS.DE", name: "BASF", weight: 2.98 },
    { ticker: "BMW.DE", name: "BMW", weight: 2.72 }
  ],
  "EWY": [
    { ticker: "005930.KS", name: "Samsung Electronics", weight: 22.56 },
    { ticker: "000660.KS", name: "SK Hynix", weight: 8.42 },
    { ticker: "373220.KS", name: "LG Energy Solution", weight: 4.85 },
    { ticker: "207940.KS", name: "Samsung Biologics", weight: 3.92 },
    { ticker: "005490.KS", name: "POSCO Holdings", weight: 3.56 },
    { ticker: "035420.KS", name: "Naver Corp", weight: 3.24 },
    { ticker: "006400.KS", name: "Samsung SDI", weight: 2.98 },
    { ticker: "051910.KS", name: "LG Chem", weight: 2.72 },
    { ticker: "035720.KS", name: "Kakao Corp", weight: 2.56 },
    { ticker: "068270.KS", name: "Celltrion", weight: 2.42 }
  ]
};

// ========================================================================
//  Tab switching
// ========================================================================
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById('panel-' + tab.dataset.panel).classList.add('active');
  });
});

// ========================================================================
//  Build holdings grid
// ========================================================================
function buildHoldingsGrid(gridId, etfs, holdings) {
  const grid = document.getElementById(gridId);
  grid.innerHTML = '';

  etfs.forEach(etf => {
    const hList = holdings[etf.ticker] || [];
    if (!hList.length) return;

    const maxWeight = Math.max(...hList.map(h => h.weight));

    const card = document.createElement('div');
    card.className = 'holding-card';
    card.dataset.ticker = etf.ticker;
    card.dataset.description = etf.description.toLowerCase();

    let tableRows = '';
    hList.forEach((h, i) => {
      const barWidth = maxWeight > 0 ? Math.round((h.weight / maxWeight) * 100) : 0;
      tableRows += `<tr>
        <td class="rank">${i + 1}</td>
        <td style="font-weight:600">${escapeHtml(h.ticker)}</td>
        <td>${escapeHtml(h.name)}</td>
        <td class="weight-cell">
          <div class="weight-bar-wrap">
            <div class="weight-bar" style="width:${barWidth}%"></div>
            <span class="weight-val">${h.weight.toFixed(1)}%</span>
          </div>
        </td>
      </tr>`;
    });

    card.innerHTML = `
      <div class="holding-card-header">
        <span class="ticker">${escapeHtml(etf.ticker)}</span>
        <span class="sector">${escapeHtml(etf.description)}</span>
      </div>
      <table class="holdings-table">
        <thead><tr><th>#</th><th>Ticker</th><th>Name</th><th>Weight</th></tr></thead>
        <tbody>${tableRows}</tbody>
      </table>
    `;
    grid.appendChild(card);
  });
}

function escapeHtml(str) {
  const div = document.createElement('div');
  div.textContent = str;
  return div.innerHTML;
}

// ========================================================================
//  Filter holdings
// ========================================================================
function filterHoldings(gridId, inputId, countId) {
  const q = document.getElementById(inputId).value.toLowerCase().trim();
  let visible = 0;
  const cards = document.querySelectorAll('#' + gridId + ' .holding-card');
  cards.forEach(card => {
    const ticker = card.dataset.ticker.toLowerCase();
    const desc = card.dataset.description;
    // Also search within the holdings table text
    const tableText = card.textContent.toLowerCase();
    const match = !q || ticker.includes(q) || desc.includes(q) || tableText.includes(q);
    card.style.display = match ? '' : 'none';
    if (match) visible++;
  });
  const countEl = document.getElementById(countId);
  if (countEl) {
    countEl.textContent = q ? `${visible} of ${cards.length} ETFs` : `${cards.length} ETFs`;
  }
}

// ========================================================================
//  Wire up search inputs
// ========================================================================
document.getElementById('holdings-search').addEventListener('input', () => {
  filterHoldings('holdings-grid', 'holdings-search', 'holdings-count');
});
document.getElementById('intl-holdings-search').addEventListener('input', () => {
  filterHoldings('intl-holdings-grid', 'intl-holdings-search', 'intl-holdings-count');
});

// ========================================================================
//  Initialize
// ========================================================================
function init() {
  buildHoldingsGrid('holdings-grid', sectorETFs, sectorHoldings);
  buildHoldingsGrid('intl-holdings-grid', intlETFs, intlHoldings);
  document.getElementById('holdings-count').textContent = `${sectorETFs.length} ETFs`;
  document.getElementById('intl-holdings-count').textContent = `${intlETFs.length} ETFs`;
}

init();
</script>

</body>
</html>
